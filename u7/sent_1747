The U . S . Geological Survey said the quake registered magnitude 5 . 8 and was centered 40 miles northwest of Richmond , Va .
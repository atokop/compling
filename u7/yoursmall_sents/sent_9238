" Chinese seismologists recorded the quake at magnitude 7 , while the US Geological Survey recorded it at magnitude 6 . 6 at a depth of 12km . Residents in Chengdu and Chongqing , hundreds of miles away , fled their buildings as they felt the tremor and repeated aftershocks .
The quake struck in Lushan county , near the city of Ya â€™ an , at a depth of 12 km , the US Geological Survey said .